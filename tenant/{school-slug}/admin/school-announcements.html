<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>School Announcements | AcademixSuite School Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --school-primary: #4f46e5;
            --school-secondary: #10b981;
            --school-surface: #ffffff;
            --school-bg: #f8fafc;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--school-bg); 
            color: #1e293b; 
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Glassmorphism effects */
        .glass-header { 
            background: rgba(255, 255, 255, 0.92); 
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.3);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.5);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
        }

        /* Toast Notification Styles */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 400px;
        }
        
        .toast {
            padding: 16px 20px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.3s ease forwards;
            opacity: 0;
            transform: translateX(100px);
            transition: opacity 0.3s, transform 0.3s;
        }
        
        .toast-success {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border-left: 4px solid #059669;
        }
        
        .toast-info {
            background: linear-gradient(135deg, #4f46e5, #7c73e9);
            color: white;
            border-left: 4px solid #3730a3;
        }
        
        .toast-warning {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            border-left: 4px solid #d97706;
        }
        
        .toast-error {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
            border-left: 4px solid #dc2626;
        }
        
        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }
        
        .toast-exit {
            animation: fadeOut 0.3s ease forwards;
        }
        
        .toast-icon {
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .toast-content {
            flex: 1;
        }
        
        .toast-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        
        .toast-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Sidebar styling */
        .sidebar-link { 
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1); 
            border-left: 3px solid transparent; 
            position: relative;
        }
        
        .sidebar-link:hover { 
            background: linear-gradient(90deg, rgba(79, 70, 229, 0.05) 0%, rgba(79, 70, 229, 0.02) 100%);
            color: var(--school-primary); 
            border-left-color: rgba(79, 70, 229, 0.3);
        }
        
        .active-link { 
            background: linear-gradient(90deg, rgba(79, 70, 229, 0.1) 0%, rgba(79, 70, 229, 0.05) 100%);
            color: var(--school-primary); 
            border-left-color: var(--school-primary); 
            font-weight: 700;
        }
        
        .active-link::before {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 60%;
            background: var(--school-primary);
            border-radius: 4px 0 0 4px;
        }

        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Animation for cards */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        /* Status badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .status-published {
            background-color: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        
        .status-scheduled {
            background-color: #dbeafe;
            color: #1e40af;
            border: 1px solid #bfdbfe;
        }
        
        .status-draft {
            background-color: #f3f4f6;
            color: #4b5563;
            border: 1px solid #d1d5db;
        }
        
        .status-archived {
            background-color: #f5f3ff;
            color: #5b21b6;
            border: 1px solid #ddd6fe;
        }

        /* Priority badges */
        .priority-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .priority-high {
            background-color: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
        
        .priority-medium {
            background-color: #fef3c7;
            color: #92400e;
            border: 1px solid #fde68a;
        }
        
        .priority-low {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .glass-header {
                backdrop-filter: none;
                -webkit-backdrop-filter: none;
                background: white;
            }
            
            .toast-container {
                left: 20px;
                right: 20px;
                max-width: none;
            }
        }

        /* Tab styling */
        .tab-button {
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tab-button:hover {
            color: #4f46e5;
        }
        
        .tab-button.active {
            color: #4f46e5;
            border-bottom-color: #4f46e5;
            background: linear-gradient(to top, rgba(79, 70, 229, 0.05), transparent);
        }

        /* Announcement Cards */
        .announcement-card {
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .announcement-card:hover {
            transform: translateX(4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
        }
        
        .announcement-urgent {
            border-left-color: #ef4444;
        }
        
        .announcement-important {
            border-left-color: #f59e0b;
        }
        
        .announcement-info {
            border-left-color: #4f46e5;
        }
        
        .announcement-event {
            border-left-color: #10b981;
        }
        
        .announcement-update {
            border-left-color: #8b5cf6;
        }

        /* Audience Tags */
        .audience-tag {
            display: inline-flex;
            align-items: center;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .audience-students {
            background-color: #e0e7ff;
            color: #3730a3;
        }
        
        .audience-teachers {
            background-color: #fce7f3;
            color: #9d174d;
        }
        
        .audience-parents {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .audience-staff {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .audience-all {
            background-color: #f3f4f6;
            color: #4b5563;
        }

        /* Form Styles */
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.2s;
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.2s;
            background: white;
            resize: vertical;
            min-height: 120px;
            font-family: 'Inter', sans-serif;
        }
        
        .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            background: white;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
        }

        /* Action Buttons */
        .action-btn {
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .action-btn-primary {
            background: linear-gradient(135deg, #4f46e5, #7c73e9);
            color: white;
        }
        
        .action-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
        }
        
        .action-btn-secondary {
            background: white;
            color: #4f46e5;
            border: 1px solid #e2e8f0;
        }
        
        .action-btn-secondary:hover {
            background: #f8fafc;
            border-color: #4f46e5;
        }
        
        .action-btn-danger {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }
        
        .action-btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        /* Search and Filter */
        .search-box {
            position: relative;
            width: 100%;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 16px 12px 44px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.2s;
            background: white;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        /* Filter Chips */
        .filter-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            color: #475569;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .filter-chip:hover {
            background: #e2e8f0;
        }
        
        .filter-chip.active {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
        }

        /* Pagination */
        .pagination-btn {
            padding: 8px 12px;
            background: white;
            border: 1px solid #e2e8f0;
            color: #64748b;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .pagination-btn:hover {
            background: #f8fafc;
            border-color: #4f46e5;
            color: #4f46e5;
        }
        
        .pagination-btn.active {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="antialiased selection:bg-indigo-100 selection:text-indigo-900">

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-[99] lg:hidden hidden" onclick="mobileSidebarToggle()"></div>

    <!-- New Announcement Modal -->
    <div id="newAnnouncementModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000] hidden">
        <div class="bg-white rounded-2xl p-8 max-w-4xl w-11/12 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-black text-slate-900">Create New Announcement</h3>
                <button onclick="closeModal('newAnnouncementModal')" class="text-slate-400 hover:text-slate-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <div>
                        <label class="form-label">Announcement Title *</label>
                        <input type="text" id="announcementTitle" class="form-input" placeholder="e.g., Upcoming Parent-Teacher Meetings">
                    </div>
                    
                    <div>
                        <label class="form-label">Announcement Content *</label>
                        <textarea id="announcementContent" class="form-textarea" placeholder="Enter detailed announcement content..."></textarea>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-xs text-slate-500">Supports Markdown formatting</span>
                            <span class="text-xs text-slate-500" id="charCount">0/5000 characters</span>
                        </div>
                    </div>
                    
                    <div>
                        <label class="form-label">Attachments (Optional)</label>
                        <div class="border-2 border-dashed border-slate-200 rounded-xl p-8 text-center">
                            <i class="fas fa-cloud-upload-alt text-4xl text-slate-300 mb-3"></i>
                            <p class="text-slate-600 mb-2">Drag & drop files here or click to browse</p>
                            <p class="text-sm text-slate-500">Supports PDF, DOC, JPG, PNG up to 10MB</p>
                            <button onclick="uploadAttachment()" class="mt-4 action-btn action-btn-secondary">
                                <i class="fas fa-plus"></i> Add Attachment
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="form-label">Priority Level</label>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3 p-4 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50">
                                <input type="radio" name="announcementPriority" value="high" class="text-red-600">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                        <span class="font-bold text-slate-900">High Priority</span>
                                    </div>
                                    <p class="text-sm text-slate-500 mt-1">Urgent announcements for immediate attention</p>
                                </div>
                            </label>
                            
                            <label class="flex items-center gap-3 p-4 border border-blue-200 rounded-xl cursor-pointer bg-blue-50">
                                <input type="radio" name="announcementPriority" value="medium" class="text-amber-600" checked>
                                <div class="flex-1">
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-amber-500"></div>
                                        <span class="font-bold text-slate-900">Medium Priority</span>
                                    </div>
                                    <p class="text-sm text-slate-500 mt-1">Important but not urgent announcements</p>
                                </div>
                            </label>
                            
                            <label class="flex items-center gap-3 p-4 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50">
                                <input type="radio" name="announcementPriority" value="low" class="text-emerald-600">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2">
                                        <div class="w-3 h-3 rounded-full bg-emerald-500"></div>
                                        <span class="font-bold text-slate-900">Low Priority</span>
                                    </div>
                                    <p class="text-sm text-slate-500 mt-1">Informational updates and general news</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="form-label">Target Audience</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-3 p-3 border border-slate-200 rounded-xl cursor-pointer hover:bg-slate-50">
                                <input type="checkbox" checked class="rounded border-slate-300">
                                <div>
                                    <span class="text-sm font-medium text-slate-700">All School</span>
                                    <p class="text-xs text-slate-500">Students, teachers, parents, and staff</p>
                                </div>
                            </label>
                            
                            <div class="grid grid-cols-2 gap-2 ml-9">
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-slate-300">
                                    <span class="text-sm text-slate-600">Students</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-slate-300">
                                    <span class="text-sm text-slate-600">Teachers</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-slate-300">
                                    <span class="text-sm text-slate-600">Parents</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-slate-300">
                                    <span class="text-sm text-slate-600">Staff</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="form-label">Schedule</label>
                        <div class="space-y-3">
                            <div>
                                <label class="text-sm font-medium text-slate-700 mb-2 block">Publish Date</label>
                                <input type="date" id="publishDate" class="form-input" value="2024-12-05">
                            </div>
                            <div>
                                <label class="text-sm font-medium text-slate-700 mb-2 block">Publish Time</label>
                                <input type="time" id="publishTime" class="form-input" value="09:00">
                            </div>
                            <div class="flex items-center gap-2">
                                <input type="checkbox" id="scheduleLater" class="rounded border-slate-300">
                                <label for="scheduleLater" class="text-sm text-slate-600">Schedule for later</label>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="form-label">Category</label>
                        <select id="announcementCategory" class="form-select">
                            <option value="general">General Announcement</option>
                            <option value="event">School Event</option>
                            <option value="academic">Academic Update</option>
                            <option value="safety">Safety Alert</option>
                            <option value="holiday">Holiday Notice</option>
                            <option value="maintenance">System Maintenance</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="flex gap-3 mt-8 pt-6 border-t border-slate-100">
                <button onclick="closeModal('newAnnouncementModal')" class="flex-1 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Cancel
                </button>
                <button onclick="saveAsDraft()" class="px-6 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Save as Draft
                </button>
                <button onclick="publishAnnouncement()" class="flex-1 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:shadow-lg transition-all shadow-lg shadow-indigo-200">
                    Publish Now
                </button>
            </div>
        </div>
    </div>

    <!-- View Announcement Modal -->
    <div id="viewAnnouncementModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000] hidden">
        <div class="bg-white rounded-2xl p-8 max-w-4xl w-11/12 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center">
                        <i class="fas fa-bullhorn text-indigo-600"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-black text-slate-900" id="viewAnnouncementTitle">Announcement Title</h3>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="text-xs font-bold text-slate-500" id="viewAnnouncementDate">Dec 4, 2024 â€¢ 10:30 AM</span>
                            <span class="status-badge status-published" id="viewAnnouncementStatus">Published</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button onclick="editAnnouncement()" class="p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button onclick="closeModal('viewAnnouncementModal')" class="p-2 text-slate-400 hover:text-slate-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="mb-6">
                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="priority-badge priority-medium" id="viewAnnouncementPriority">Medium Priority</span>
                    <span class="audience-tag audience-all">All School</span>
                    <span class="audience-tag audience-students">Students</span>
                    <span class="audience-tag audience-teachers">Teachers</span>
                </div>
                
                <div class="prose max-w-none" id="viewAnnouncementContent">
                    <!-- Announcement content will be inserted here -->
                </div>
                
                <div class="mt-6 p-4 bg-slate-50 rounded-xl">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-slate-700">Statistics</p>
                            <div class="flex items-center gap-4 mt-2">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-eye text-slate-500"></i>
                                    <span class="text-sm font-bold text-slate-900">1,248 views</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-check-circle text-emerald-500"></i>
                                    <span class="text-sm font-bold text-slate-900">892 confirmed reads</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-share text-blue-500"></i>
                                    <span class="text-sm font-bold text-slate-900">124 shares</span>
                                </div>
                            </div>
                        </div>
                        <button onclick="shareAnnouncement()" class="action-btn action-btn-secondary">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="flex gap-3 pt-6 border-t border-slate-100">
                <button onclick="closeModal('viewAnnouncementModal')" class="flex-1 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Close
                </button>
                <button onclick="archiveAnnouncement()" class="px-6 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Archive
                </button>
                <button onclick="deleteAnnouncement()" class="px-6 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white font-bold rounded-xl hover:shadow-lg transition-all shadow-lg shadow-red-200">
                    Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Actions Modal -->
    <div id="bulkActionsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1000] hidden">
        <div class="bg-white rounded-2xl p-8 max-w-md w-11/12">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-black text-slate-900">Bulk Actions</h3>
                <button onclick="closeModal('bulkActionsModal')" class="text-slate-400 hover:text-slate-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="form-label">Selected Announcements: <span id="selectedCount">0</span></label>
                    <div class="text-sm text-slate-500">Choose an action to perform on all selected announcements</div>
                </div>
                
                <div class="space-y-3">
                    <button onclick="bulkPublish()" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-slate-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center">
                                <i class="fas fa-paper-plane text-emerald-600"></i>
                            </div>
                            <div>
                                <p class="font-bold text-slate-900">Publish Selected</p>
                                <p class="text-sm text-slate-500">Publish all selected announcements immediately</p>
                            </div>
                        </div>
                    </button>
                    
                    <button onclick="bulkArchive()" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-slate-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                                <i class="fas fa-archive text-purple-600"></i>
                            </div>
                            <div>
                                <p class="font-bold text-slate-900">Archive Selected</p>
                                <p class="text-sm text-slate-500">Move selected announcements to archive</p>
                            </div>
                        </div>
                    </button>
                    
                    <button onclick="bulkDelete()" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-red-50 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                                <i class="fas fa-trash text-red-600"></i>
                            </div>
                            <div>
                                <p class="font-bold text-slate-900">Delete Selected</p>
                                <p class="text-sm text-slate-500">Permanently delete selected announcements</p>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
            
            <div class="flex gap-3 mt-8 pt-6 border-t border-slate-100">
                <button onclick="closeModal('bulkActionsModal')" class="flex-1 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Cancel
                </button>
                <button onclick="clearSelection()" class="px-6 py-3 border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition">
                    Clear Selection
                </button>
            </div>
        </div>
    </div>

    <div class="flex h-screen overflow-hidden">
        
        <aside id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-white border-r border-slate-200 z-[100] lg:relative lg:translate-x-0 -translate-x-full transition-transform duration-300 flex flex-col shadow-xl lg:shadow-none">
            
            <!-- School Header -->
            <div class="h-20 flex items-center px-6 border-b border-slate-100">
                <div class="flex items-center gap-3">
                    <div class="relative">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-100">
                            <i class="fas fa-school text-white text-lg"></i>
                        </div>
                        <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white rounded-full"></div>
                    </div>
                    <div>
                        <span class="text-xl font-black tracking-tight text-slate-900">Greenwood High</span>
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5">SCHOOL ADMIN</p>
                    </div>
                </div>
            </div>

            <!-- School Quick Info -->
            <div class="p-6 border-b border-slate-100">
                <div class="space-y-3">
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-slate-600">Announcements:</span>
                        <span class="text-sm font-black text-indigo-600">48</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-slate-600">Drafts:</span>
                        <span class="text-sm font-bold text-slate-900">3</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-slate-600">Scheduled:</span>
                        <span class="text-sm font-bold text-slate-900">5</span>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex-1 overflow-y-auto py-6 space-y-8 custom-scrollbar">
                <div>
                    <p class="px-6 text-[11px] font-black text-slate-400 uppercase tracking-[0.15em] mb-3">Dashboard</p>
                    <nav class="space-y-1">
                        <a href="school-dashboard.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <span>Overview</span>
                        </a>
                        <a href="school-announcements.html" class="sidebar-link active-link flex items-center gap-3 px-6 py-3 text-sm font-semibold">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <span>Announcements</span>
                            <span class="badge badge-primary ml-auto">48</span>
                        </a>
                    </nav>
                </div>

                <div>
                    <p class="px-6 text-[11px] font-black text-slate-400 uppercase tracking-[0.15em] mb-3">Student Management</p>
                    <nav class="space-y-1">
                        <a href="school-students.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <span>Students Directory</span>
                        </a>
                        <a href="school-attendance.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <span>Attendance</span>
                        </a>
                    </nav>
                </div>

                <div>
                    <p class="px-6 text-[11px] font-black text-slate-400 uppercase tracking-[0.15em] mb-3">Staff Management</p>
                    <nav class="space-y-1">
                        <a href="school-teachers.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-chalkboard-teacher"></i>
                            </div>
                            <span>Teachers</span>
                        </a>
                        <a href="school-schedule.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <span>Timetable</span>
                        </a>
                    </nav>
                </div>

                <div>
                    <p class="px-6 text-[11px] font-black text-slate-400 uppercase tracking-[0.15em] mb-3">School Operations</p>
                    <nav class="space-y-1">
                        <a href="school-fees.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-receipt"></i>
                            </div>
                            <span>Fee Management</span>
                        </a>
                        <a href="school-settings.html" class="sidebar-link flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-600">
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="fas fa-cog"></i>
                            </div>
                            <span>School Settings</span>
                        </a>
                    </nav>
                </div>
            </div>

            <!-- User Profile -->
            <div class="p-6 border-t border-slate-100">
                <div class="flex items-center gap-3 p-2 group cursor-pointer hover:bg-slate-50 rounded-xl transition">
                    <div class="relative">
                        <img src="https://ui-avatars.com/api/?name=Principal+Smith&background=4f46e5&color=fff&bold=true&size=128" class="w-10 h-10 rounded-xl shadow-sm">
                        <div class="absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-emerald-500 border-2 border-white rounded-full"></div>
                    </div>
                    <div class="overflow-hidden flex-1">
                        <p class="text-[13px] font-black text-slate-900 truncate">Principal Smith</p>
                        <p class="text-[10px] font-black text-indigo-600 uppercase tracking-wider italic">School_Admin</p>
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col min-w-0 overflow-hidden">
            
            <!-- Header -->
            <header class="h-20 glass-header px-6 lg:px-8 flex items-center justify-between shrink-0 z-40">
                <div class="flex items-center gap-3">
                    <button onclick="mobileSidebarToggle()" class="lg:hidden text-slate-600 p-2 hover:bg-slate-100 rounded-lg transition">
                        <i class="fas fa-bars-staggered"></i>
                    </button>
                    <div class="flex items-center gap-3">
                        <h1 class="text-lg font-black text-slate-900 tracking-tight">School Announcements</h1>
                        <div class="hidden lg:flex items-center gap-2">
                            <div class="w-2 h-2 bg-emerald-500 rounded-full"></div>
                            <span class="text-xs font-black text-emerald-600 uppercase tracking-widest">48 Total Announcements</span>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-4">
                    <!-- Quick Stats -->
                    <div class="hidden md:flex items-center gap-2 bg-white border border-slate-200 px-4 py-2 rounded-xl">
                        <div class="text-right">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Unread</p>
                            <p class="text-sm font-black text-amber-600">3</p>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex items-center gap-2">
                        <button onclick="openBulkActions()" class="px-4 py-2 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition flex items-center gap-2">
                            <i class="fas fa-layer-group"></i>
                            <span class="hidden sm:inline">Bulk Actions</span>
                        </button>
                        <button onclick="openModal('newAnnouncementModal')" class="px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:shadow-lg transition-all shadow-lg shadow-indigo-200">
                            <i class="fas fa-plus"></i>
                            <span class="hidden sm:inline">New Announcement</span>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Tabs Navigation -->
            <div class="border-b border-slate-200 bg-white">
                <div class="max-w-7xl mx-auto px-6 lg:px-8">
                    <div class="flex overflow-x-auto">
                        <button class="tab-button active" onclick="switchTab('all')" data-tab="all">
                            <i class="fas fa-list mr-2"></i>All Announcements
                        </button>
                        <button class="tab-button" onclick="switchTab('published')" data-tab="published">
                            <i class="fas fa-paper-plane mr-2"></i>Published
                        </button>
                        <button class="tab-button" onclick="switchTab('scheduled')" data-tab="scheduled">
                            <i class="fas fa-clock mr-2"></i>Scheduled
                        </button>
                        <button class="tab-button" onclick="switchTab('drafts')" data-tab="drafts">
                            <i class="fas fa-edit mr-2"></i>Drafts
                        </button>
                        <button class="tab-button" onclick="switchTab('archived')" data-tab="archived">
                            <i class="fas fa-archive mr-2"></i>Archived
                        </button>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="flex-1 overflow-y-auto p-6 lg:p-8 custom-scrollbar">
                <!-- Page Header & Filters -->
                <div class="max-w-7xl mx-auto mb-8">
                    <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
                        <div>
                            <h2 class="text-2xl lg:text-3xl font-black text-slate-900 mb-2">Manage School Announcements</h2>
                            <p class="text-slate-500 font-medium">Create, schedule, and track all school communications</p>
                        </div>
                        <div class="flex gap-3">
                            <div class="search-box">
                                <input type="text" placeholder="Search announcements..." class="search-input" id="searchInput" onkeyup="filterAnnouncements()">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                            <button onclick="toggleAdvancedFilters()" class="px-4 py-2.5 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 transition flex items-center gap-2">
                                <i class="fas fa-sliders-h"></i>
                                <span class="hidden sm:inline">Filters</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Advanced Filters -->
                    <div class="glass-card rounded-xl p-6 mt-6 hidden" id="advancedFilters">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-black text-slate-900">Advanced Filters</h3>
                            <button onclick="toggleAdvancedFilters()" class="text-slate-400 hover:text-slate-600">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="form-label">Priority</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="priority-high">
                                        <span class="text-sm text-slate-700">High Priority</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="priority-medium" checked>
                                        <span class="text-sm text-slate-700">Medium Priority</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="priority-low">
                                        <span class="text-sm text-slate-700">Low Priority</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <label class="form-label">Category</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="category-general" checked>
                                        <span class="text-sm text-slate-700">General</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="category-event">
                                        <span class="text-sm text-slate-700">Events</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="rounded border-slate-300" data-filter="category-academic">
                                        <span class="text-sm text-slate-700">Academic</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <label class="form-label">Date Range</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <input type="date" class="form-input" id="filterStartDate">
                                        <p class="text-xs text-slate-500 mt-1">From</p>
                                    </div>
                                    <div>
                                        <input type="date" class="form-input" id="filterEndDate">
                                        <p class="text-xs text-slate-500 mt-1">To</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center mt-6 pt-6 border-t border-slate-100">
                            <button onclick="clearFilters()" class="px-4 py-2 text-slate-600 hover:text-slate-800 transition">
                                Clear All Filters
                            </button>
                            <button onclick="applyAdvancedFilters()" class="px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:shadow-lg transition-all shadow-lg shadow-indigo-200">
                                Apply Filters
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filter Chips -->
                    <div class="flex flex-wrap gap-2 mt-6">
                        <span class="filter-chip active" onclick="toggleFilter('all')" data-filter="all">
                            <i class="fas fa-globe"></i> All (48)
                        </span>
                        <span class="filter-chip" onclick="toggleFilter('priority-high')" data-filter="priority-high">
                            <i class="fas fa-exclamation-circle"></i> High Priority (5)
                        </span>
                        <span class="filter-chip" onclick="toggleFilter('priority-medium')" data-filter="priority-medium">
                            <i class="fas fa-exclamation-triangle"></i> Medium Priority (28)
                        </span>
                        <span class="filter-chip" onclick="toggleFilter('priority-low')" data-filter="priority-low">
                            <i class="fas fa-info-circle"></i> Low Priority (15)
                        </span>
                        <span class="filter-chip" onclick="toggleFilter('unread')" data-filter="unread">
                            <i class="fas fa-envelope"></i> Unread (3)
                        </span>
                        <span class="filter-chip" onclick="toggleFilter('today')" data-filter="today">
                            <i class="fas fa-calendar-day"></i> Today (8)
                        </span>
                    </div>
                </div>

                <!-- Announcements Grid/List View -->
                <div class="max-w-7xl mx-auto mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-4">
                            <h3 class="text-lg font-black text-slate-900" id="announcementsTitle">All Announcements</h3>
                            <div class="flex items-center gap-2">
                                <button onclick="toggleView('grid')" class="p-2 text-slate-600 hover:text-indigo-600 rounded-lg" id="gridViewBtn">
                                    <i class="fas fa-th-large"></i>
                                </button>
                                <button onclick="toggleView('list')" class="p-2 text-indigo-600 hover:text-indigo-700 rounded-lg" id="listViewBtn">
                                    <i class="fas fa-list"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span class="text-sm text-slate-500" id="announcementsCount">Showing 12 of 48 announcements</span>
                            <div class="flex items-center gap-2">
                                <button onclick="previousPage()" class="pagination-btn">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button class="pagination-btn active">1</button>
                                <button onclick="nextPage()" class="pagination-btn">2</button>
                                <button onclick="nextPage()" class="pagination-btn">3</button>
                                <span class="text-slate-400">...</span>
                                <button onclick="nextPage()" class="pagination-btn">5</button>
                                <button onclick="nextPage()" class="pagination-btn">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Grid/List View Container -->
                    <div class="space-y-4" id="announcementsContainer">
                        <!-- Announcements will be loaded here -->
                    </div>
                </div>

                <!-- Statistics & Insights -->
                <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Engagement Stats -->
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-lg font-black text-slate-900 mb-6">Engagement Statistics</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-sm font-medium text-slate-700">Overall Read Rate</span>
                                    <span class="text-sm font-bold text-slate-900">78.5%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill progress-primary" style="width: 78.5%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-sm font-medium text-slate-700">Parent Engagement</span>
                                    <span class="text-sm font-bold text-slate-900">85.2%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill progress-success" style="width: 85.2%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-sm font-medium text-slate-700">Student Engagement</span>
                                    <span class="text-sm font-bold text-slate-900">72.3%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill progress-warning" style="width: 72.3%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Templates -->
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-lg font-black text-slate-900 mb-6">Quick Templates</h3>
                        <div class="space-y-3">
                            <button onclick="useTemplate('attendance')" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-slate-50 transition">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center">
                                        <i class="fas fa-calendar-check text-amber-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-slate-900">Attendance Alert</p>
                                        <p class="text-sm text-slate-500">Notify parents about attendance issues</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="useTemplate('event')" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-slate-50 transition">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center">
                                        <i class="fas fa-calendar-alt text-emerald-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-slate-900">Event Reminder</p>
                                        <p class="text-sm text-slate-500">Remind about upcoming school events</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="useTemplate('holiday')" class="w-full p-4 border border-slate-200 rounded-xl text-left hover:bg-slate-50 transition">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                                        <i class="fas fa-umbrella-beach text-blue-600"></i>
                                    </div>
                                    <div>
                                        <p class="font-bold text-slate-900">Holiday Notice</p>
                                        <p class="text-sm text-slate-500">Announce school holidays and breaks</p>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-lg font-black text-slate-900 mb-6">Recent Activity</h3>
                        <div class="space-y-4">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center">
                                    <i class="fas fa-bullhorn text-indigo-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-900">New announcement published</p>
                                    <p class="text-xs text-slate-500">"Parent-Teacher Meetings" â€¢ 2 hours ago</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center">
                                    <i class="fas fa-eye text-emerald-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-900">248 new views on "Science Fair"</p>
                                    <p class="text-xs text-slate-500">Engagement rate: 92% â€¢ 4 hours ago</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center">
                                    <i class="fas fa-clock text-amber-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-900">3 announcements scheduled</p>
                                    <p class="text-xs text-slate-500">For tomorrow morning â€¢ Yesterday</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                                    <i class="fas fa-archive text-purple-600 text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-900">5 announcements archived</p>
                                    <p class="text-xs text-slate-500">Old announcements cleaned up â€¢ 2 days ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Announcement Tips -->
                <div class="max-w-7xl mx-auto">
                    <div class="glass-card rounded-2xl p-6 bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-100">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 rounded-xl bg-white flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-lightbulb text-indigo-600 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-black text-slate-900 mb-2">Best Practices for Announcements</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="flex items-start gap-2">
                                        <i class="fas fa-check text-emerald-600 mt-1"></i>
                                        <div>
                                            <p class="text-sm font-medium text-slate-900">Keep it concise</p>
                                            <p class="text-xs text-slate-600">Get straight to the point in the first paragraph</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-2">
                                        <i class="fas fa-check text-emerald-600 mt-1"></i>
                                        <div>
                                            <p class="text-sm font-medium text-slate-900">Use clear subject lines</p>
                                            <p class="text-xs text-slate-600">Make it easy to understand the announcement purpose</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-2">
                                        <i class="fas fa-check text-emerald-600 mt-1"></i>
                                        <div>
                                            <p class="text-sm font-medium text-slate-900">Schedule strategically</p>
                                            <p class="text-xs text-slate-600">Send important announcements during school hours</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start gap-2">
                                        <i class="fas fa-check text-emerald-600 mt-1"></i>
                                        <div>
                                            <p class="text-sm font-medium text-slate-900">Target appropriately</p>
                                            <p class="text-xs text-slate-600">Only send to relevant audience segments</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Toast Notification System
        class Toast {
            static show(message, type = 'info', duration = 5000) {
                const container = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;
                
                const icons = {
                    success: 'fa-check-circle',
                    info: 'fa-info-circle',
                    warning: 'fa-exclamation-triangle',
                    error: 'fa-times-circle'
                };
                
                toast.innerHTML = `
                    <i class="fas ${icons[type]} toast-icon"></i>
                    <div class="toast-content">${message}</div>
                    <button class="toast-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                container.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.opacity = '1';
                    toast.style.transform = 'translateX(0)';
                }, 10);
                
                if (duration > 0) {
                    setTimeout(() => {
                        toast.classList.add('toast-exit');
                        setTimeout(() => {
                            if (toast.parentNode) {
                                toast.remove();
                            }
                        }, 300);
                    }, duration);
                }
                
                return toast;
            }
            
            static success(message, duration = 5000) {
                return this.show(message, 'success', duration);
            }
            
            static info(message, duration = 5000) {
                return this.show(message, 'info', duration);
            }
            
            static warning(message, duration = 5000) {
                return this.show(message, 'warning', duration);
            }
            
            static error(message, duration = 5000) {
                return this.show(message, 'error', duration);
            }
        }

        // Sample Announcements Data
        const announcementsData = [
            {
                id: 1,
                title: "Parent-Teacher Meetings Schedule",
                content: "Parent-teacher meetings are scheduled for December 10-12. Please book your slots through the parent portal. Meetings will be held in the main auditorium from 9 AM to 4 PM each day. Bring your child's progress reports for discussion.",
                priority: "medium",
                status: "published",
                category: "general",
                audience: ["all", "parents", "teachers"],
                date: "2024-12-04",
                time: "10:30",
                views: 1248,
                reads: 892,
                shares: 124,
                attachments: 0,
                author: "Principal Smith"
            },
            {
                id: 2,
                title: "School Closure Due to Weather",
                content: "Due to severe weather conditions and safety concerns, school will be closed tomorrow, December 5th. All classes and activities are canceled. Please stay safe and monitor official weather updates. School will resume on Wednesday, December 6th.",
                priority: "high",
                status: "published",
                category: "safety",
                audience: ["all"],
                date: "2024-12-04",
                time: "09:00",
                views: 1856,
                reads: 1623,
                shares: 256,
                attachments: 1,
                author: "Principal Smith"
            },
            {
                id: 3,
                title: "Annual Science Fair Registration",
                content: "Registration for the annual science fair is now open! Students from grades 6-12 can submit their project proposals by December 15th. This year's theme is 'Innovations for a Sustainable Future'. Prizes include science scholarships and research opportunities.",
                priority: "medium",
                status: "published",
                category: "academic",
                audience: ["students", "teachers"],
                date: "2024-12-03",
                time: "14:15",
                views: 932,
                reads: 745,
                shares: 89,
                attachments: 2,
                author: "Science Department"
            },
            {
                id: 4,
                title: "Winter Break Schedule",
                content: "Winter break will begin on December 20th and continue through January 5th. School will resume on Monday, January 6th. Please ensure all assignments are completed before the break. Have a safe and enjoyable holiday season!",
                priority: "low",
                status: "scheduled",
                category: "holiday",
                audience: ["all"],
                date: "2024-12-15",
                time: "08:00",
                views: 0,
                reads: 0,
                shares: 0,
                attachments: 0,
                author: "Principal Smith"
            },
            {
                id: 5,
                title: "New Library Resources Available",
                content: "Our school library has added 250 new books to its collection, including STEM resources, contemporary literature, and research materials. Students can now access the digital catalog through the school portal. Library hours remain 8 AM to 5 PM.",
                priority: "low",
                status: "draft",
                category: "academic",
                audience: ["students", "teachers"],
                date: "2024-12-04",
                time: "16:45",
                views: 0,
                reads: 0,
                shares: 0,
                attachments: 0,
                author: "Principal Smith"
            },
            {
                id: 6,
                title: "Sports Day Event Preparation",
                content: "Annual Sports Day will be held on December 18th. Practice sessions begin next week. Students should bring appropriate sports attire. Parent volunteers are needed - please contact the sports department if you can help.",
                priority: "medium",
                status: "published",
                category: "event",
                audience: ["students", "parents", "teachers"],
                date: "2024-12-02",
                time: "11:30",
                views: 756,
                reads: 612,
                shares: 45,
                attachments: 1,
                author: "Sports Department"
            }
        ];

        // State Management
        let currentView = 'list';
        let currentTab = 'all';
        let selectedAnnouncements = new Set();
        let currentPage = 1;
        const itemsPerPage = 6;

        // Initialize announcements
        function initializeAnnouncements() {
            loadAnnouncements();
            updateCharacterCount();
            setupEventListeners();
        }

        // Load announcements based on current filters
        function loadAnnouncements() {
            const container = document.getElementById('announcementsContainer');
            const filteredData = filterAnnouncementsData();
            
            container.innerHTML = '';
            
            if (filteredData.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-bullhorn text-slate-400 text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">No announcements found</h3>
                        <p class="text-slate-500 mb-6">Try adjusting your filters or create a new announcement</p>
                        <button onclick="openModal('newAnnouncementModal')" class="action-btn action-btn-primary">
                            <i class="fas fa-plus"></i> Create Announcement
                        </button>
                    </div>
                `;
                return;
            }
            
            // Calculate pagination
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedData = filteredData.slice(startIndex, endIndex);
            
            // Render announcements
            paginatedData.forEach(announcement => {
                const announcementElement = createAnnouncementElement(announcement);
                container.appendChild(announcementElement);
            });
            
            // Update pagination info
            updatePaginationInfo(filteredData.length);
        }

        // Create announcement element
        function createAnnouncementElement(announcement) {
            const element = document.createElement('div');
            element.className = `announcement-card announcement-${announcement.priority === 'high' ? 'urgent' : announcement.priority === 'medium' ? 'important' : 'info'} glass-card rounded-xl p-6`;
            element.setAttribute('data-id', announcement.id);
            
            const priorityClass = announcement.priority === 'high' ? 'priority-high' : 
                                 announcement.priority === 'medium' ? 'priority-medium' : 'priority-low';
            
            const statusClass = announcement.status === 'published' ? 'status-published' :
                              announcement.status === 'scheduled' ? 'status-scheduled' :
                              announcement.status === 'draft' ? 'status-draft' : 'status-archived';
            
            const audienceTags = announcement.audience.map(aud => {
                const audienceClass = aud === 'all' ? 'audience-all' :
                                   aud === 'students' ? 'audience-students' :
                                   aud === 'teachers' ? 'audience-teachers' :
                                   aud === 'parents' ? 'audience-parents' : 'audience-staff';
                return `<span class="audience-tag ${audienceClass}">${aud}</span>`;
            }).join('');
            
            element.innerHTML = `
                <div class="flex items-start justify-between mb-4">
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="${priorityClass}">${announcement.priority} Priority</span>
                            <span class="${statusClass}">${announcement.status.charAt(0).toUpperCase() + announcement.status.slice(1)}</span>
                            ${announcement.attachments > 0 ? `<span class="text-xs text-slate-500"><i class="fas fa-paperclip mr-1"></i>${announcement.attachments}</span>` : ''}
                        </div>
                        <h4 class="text-lg font-black text-slate-900 mb-2">${announcement.title}</h4>
                        <p class="text-sm text-slate-600 line-clamp-2 mb-4">${announcement.content.substring(0, 150)}...</p>
                    </div>
                    <div class="flex items-center gap-2 ml-4">
                        <input type="checkbox" class="announcement-checkbox rounded border-slate-300" data-id="${announcement.id}" onchange="toggleSelection(${announcement.id})">
                        <button class="p-2 text-slate-400 hover:text-slate-600" onclick="viewAnnouncement(${announcement.id})">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                </div>
                
                <div class="flex flex-wrap gap-2 mb-4">
                    ${audienceTags}
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-calendar-alt text-slate-400"></i>
                            <span class="text-sm font-medium text-slate-900">${formatDate(announcement.date)} â€¢ ${announcement.time}</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-user text-slate-400"></i>
                            <span class="text-sm text-slate-500">${announcement.author}</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        ${announcement.status === 'published' ? `
                            <div class="flex items-center gap-2">
                                <i class="fas fa-eye text-slate-400"></i>
                                <span class="text-sm font-bold text-slate-900">${announcement.views.toLocaleString()}</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <i class="fas fa-check-circle text-emerald-500"></i>
                                <span class="text-sm font-bold text-slate-900">${announcement.reads.toLocaleString()}</span>
                            </div>
                        ` : ''}
                        <button onclick="viewAnnouncement(${announcement.id})" class="action-btn action-btn-secondary">
                            <i class="fas fa-eye"></i> View
                        </button>
                    </div>
                </div>
            `;
            
            return element;
        }

        // Filter announcements data
        function filterAnnouncementsData() {
            let filtered = [...announcementsData];
            
            // Apply tab filter
            if (currentTab !== 'all') {
                filtered = filtered.filter(ann => ann.status === currentTab);
            }
            
            // Apply search filter
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(ann => 
                    ann.title.toLowerCase().includes(searchTerm) || 
                    ann.content.toLowerCase().includes(searchTerm) ||
                    ann.author.toLowerCase().includes(searchTerm)
                );
            }
            
            // Apply chip filters
            const activeChip = document.querySelector('.filter-chip.active');
            if (activeChip) {
                const filterType = activeChip.getAttribute('data-filter');
                if (filterType === 'priority-high') {
                    filtered = filtered.filter(ann => ann.priority === 'high');
                } else if (filterType === 'priority-medium') {
                    filtered = filtered.filter(ann => ann.priority === 'medium');
                } else if (filterType === 'priority-low') {
                    filtered = filtered.filter(ann => ann.priority === 'low');
                } else if (filterType === 'unread') {
                    filtered = filtered.filter(ann => ann.views === 0);
                } else if (filterType === 'today') {
                    const today = new Date().toISOString().split('T')[0];
                    filtered = filtered.filter(ann => ann.date === today);
                }
            }
            
            return filtered;
        }

        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        // Update character count
        function updateCharacterCount() {
            const textarea = document.getElementById('announcementContent');
            const charCount = document.getElementById('charCount');
            if (textarea && charCount) {
                textarea.addEventListener('input', function() {
                    const length = this.value.length;
                    charCount.textContent = `${length}/5000 characters`;
                    if (length > 5000) {
                        charCount.classList.add('text-red-600');
                    } else {
                        charCount.classList.remove('text-red-600');
                    }
                });
            }
        }

        // Mobile sidebar toggle
        function mobileSidebarToggle() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        // Tab switching
        function switchTab(tabName) {
            currentTab = tabName;
            
            // Update active tab
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update title
            const titles = {
                'all': 'All Announcements',
                'published': 'Published Announcements',
                'scheduled': 'Scheduled Announcements',
                'drafts': 'Draft Announcements',
                'archived': 'Archived Announcements'
            };
            document.getElementById('announcementsTitle').textContent = titles[tabName] || 'Announcements';
            
            // Reload announcements
            currentPage = 1;
            loadAnnouncements();
            
            Toast.info(`Showing ${tabName} announcements`);
        }

        // Toggle view (grid/list)
        function toggleView(viewType) {
            currentView = viewType;
            const container = document.getElementById('announcementsContainer');
            const gridBtn = document.getElementById('gridViewBtn');
            const listBtn = document.getElementById('listViewBtn');
            
            if (viewType === 'grid') {
                container.classList.remove('space-y-4');
                container.classList.add('grid', 'grid-cols-1', 'md:grid-cols-2', 'gap-6');
                gridBtn.classList.add('text-indigo-600');
                listBtn.classList.remove('text-indigo-600');
            } else {
                container.classList.remove('grid', 'grid-cols-1', 'md:grid-cols-2', 'gap-6');
                container.classList.add('space-y-4');
                listBtn.classList.add('text-indigo-600');
                gridBtn.classList.remove('text-indigo-600');
            }
            
            // Re-render announcements with new layout
            loadAnnouncements();
        }

        // Toggle filter chip
        function toggleFilter(filterType) {
            // Update active chip
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Reload announcements
            currentPage = 1;
            loadAnnouncements();
            
            Toast.info(`Filtered by ${filterType.replace('-', ' ')}`);
        }

        // Toggle advanced filters
        function toggleAdvancedFilters() {
            const filters = document.getElementById('advancedFilters');
            filters.classList.toggle('hidden');
        }

        // Apply advanced filters
        function applyAdvancedFilters() {
            Toast.success('Advanced filters applied');
            toggleAdvancedFilters();
            currentPage = 1;
            loadAnnouncements();
        }

        // Clear filters
        function clearFilters() {
            // Reset all filter inputs
            document.querySelectorAll('#advancedFilters input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            document.querySelectorAll('#advancedFilters input[type="date"]').forEach(input => {
                input.value = '';
            });
            
            // Reset chip filters
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            document.querySelector('.filter-chip[data-filter="all"]').classList.add('active');
            
            // Reset search
            document.getElementById('searchInput').value = '';
            
            // Reload announcements
            currentPage = 1;
            loadAnnouncements();
            
            Toast.info('All filters cleared');
        }

        // Filter announcements on search
        function filterAnnouncements() {
            currentPage = 1;
            loadAnnouncements();
        }

        // Modal functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        // View announcement
        function viewAnnouncement(id) {
            const announcement = announcementsData.find(a => a.id === id);
            if (!announcement) return;
            
            // Populate view modal
            document.getElementById('viewAnnouncementTitle').textContent = announcement.title;
            document.getElementById('viewAnnouncementDate').textContent = `${formatDate(announcement.date)} â€¢ ${announcement.time}`;
            document.getElementById('viewAnnouncementStatus').textContent = announcement.status.charAt(0).toUpperCase() + announcement.status.slice(1);
            
            const priorityText = announcement.priority === 'high' ? 'High Priority' :
                               announcement.priority === 'medium' ? 'Medium Priority' : 'Low Priority';
            document.getElementById('viewAnnouncementPriority').textContent = priorityText;
            document.getElementById('viewAnnouncementPriority').className = 
                `priority-badge priority-${announcement.priority}`;
            
            // Set content
            const contentDiv = document.getElementById('viewAnnouncementContent');
            contentDiv.innerHTML = `
                <div class="prose max-w-none">
                    <p class="text-slate-700 mb-4">${announcement.content}</p>
                    ${announcement.attachments > 0 ? `
                        <div class="mt-6">
                            <p class="text-sm font-medium text-slate-700 mb-2">Attachments (${announcement.attachments})</p>
                            <div class="flex flex-wrap gap-2">
                                <button class="px-3 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm">
                                    <i class="fas fa-file-pdf text-red-500 mr-2"></i>Weather_Alert.pdf
                                </button>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
            
            openModal('viewAnnouncementModal');
        }

        // Edit announcement
        function editAnnouncement() {
            Toast.info('Opening announcement editor...');
            closeModal('viewAnnouncementModal');
            setTimeout(() => {
                openModal('newAnnouncementModal');
            }, 300);
        }

        // Share announcement
        function shareAnnouncement() {
            Toast.success('Announcement shared!<br>Share link copied to clipboard.');
        }

        // Archive announcement
        function archiveAnnouncement() {
            Toast.success('Announcement archived successfully');
            closeModal('viewAnnouncementModal');
            loadAnnouncements();
        }

        // Delete announcement
        function deleteAnnouncement() {
            if (confirm('Are you sure you want to delete this announcement? This action cannot be undone.')) {
                Toast.success('Announcement deleted successfully');
                closeModal('viewAnnouncementModal');
                loadAnnouncements();
            }
        }

        // Publish announcement
        function publishAnnouncement() {
            const title = document.getElementById('announcementTitle').value;
            if (!title) {
                Toast.error('Please enter an announcement title');
                return;
            }
            
            Toast.success(`Announcement "${title}" published successfully!`);
            closeModal('newAnnouncementModal');
            
            // Reset form
            document.getElementById('announcementTitle').value = '';
            document.getElementById('announcementContent').value = '';
            
            // Reload announcements
            loadAnnouncements();
        }

        // Save as draft
        function saveAsDraft() {
            Toast.info('Announcement saved as draft');
            closeModal('newAnnouncementModal');
            loadAnnouncements();
        }

        // Upload attachment
        function uploadAttachment() {
            Toast.info('Opening file upload dialog...');
        }

        // Use template
        function useTemplate(templateType) {
            const templates = {
                attendance: {
                    title: "Attendance Alert - Action Required",
                    content: "Dear Parents,\n\nWe would like to bring to your attention that your child has been marked absent for multiple days this week. Regular attendance is crucial for academic success.\n\nPlease ensure your child attends school regularly and inform us of any planned absences in advance.\n\nBest regards,\nSchool Administration"
                },
                event: {
                    title: "Important Event Reminder",
                    content: "Dear School Community,\n\nThis is a reminder about our upcoming event. Please mark your calendars and make necessary arrangements to attend.\n\nEvent Details:\n- Date: [Event Date]\n- Time: [Event Time]\n- Location: [Event Venue]\n\nWe look forward to your participation!\n\nBest regards,\nEvent Committee"
                },
                holiday: {
                    title: "School Holiday Notice",
                    content: "Dear Parents and Students,\n\nPlease be informed that school will be closed for the upcoming holiday.\n\nHoliday Period: [Start Date] to [End Date]\nSchool Resumes: [Resumption Date]\n\nWe wish you a safe and enjoyable holiday!\n\nBest regards,\nSchool Administration"
                }
            };
            
            const template = templates[templateType];
            if (template) {
                document.getElementById('announcementTitle').value = template.title;
                document.getElementById('announcementContent').value = template.content;
                openModal('newAnnouncementModal');
                Toast.info(`"${templateType}" template loaded`);
            }
        }

        // Toggle selection
        function toggleSelection(id) {
            if (selectedAnnouncements.has(id)) {
                selectedAnnouncements.delete(id);
            } else {
                selectedAnnouncements.add(id);
            }
            updateBulkActionsButton();
        }

        // Update bulk actions button
        function updateBulkActionsButton() {
            const count = selectedAnnouncements.size;
            const button = document.querySelector('button[onclick="openBulkActions()"]');
            if (button) {
                if (count > 0) {
                    button.innerHTML = `<i class="fas fa-layer-group"></i><span class="hidden sm:inline">Bulk Actions (${count})</span>`;
                    button.classList.add('bg-indigo-50', 'text-indigo-600', 'border-indigo-200');
                } else {
                    button.innerHTML = `<i class="fas fa-layer-group"></i><span class="hidden sm:inline">Bulk Actions</span>`;
                    button.classList.remove('bg-indigo-50', 'text-indigo-600', 'border-indigo-200');
                }
            }
        }

        // Open bulk actions
        function openBulkActions() {
            if (selectedAnnouncements.size === 0) {
                Toast.warning('Please select announcements first');
                return;
            }
            
            document.getElementById('selectedCount').textContent = selectedAnnouncements.size;
            openModal('bulkActionsModal');
        }

        // Bulk actions
        function bulkPublish() {
            Toast.success(`${selectedAnnouncements.size} announcements published`);
            selectedAnnouncements.clear();
            updateBulkActionsButton();
            closeModal('bulkActionsModal');
            loadAnnouncements();
        }

        function bulkArchive() {
            Toast.success(`${selectedAnnouncements.size} announcements archived`);
            selectedAnnouncements.clear();
            updateBulkActionsButton();
            closeModal('bulkActionsModal');
            loadAnnouncements();
        }

        function bulkDelete() {
            if (confirm(`Are you sure you want to delete ${selectedAnnouncements.size} announcement(s)? This action cannot be undone.`)) {
                Toast.success(`${selectedAnnouncements.size} announcements deleted`);
                selectedAnnouncements.clear();
                updateBulkActionsButton();
                closeModal('bulkActionsModal');
                loadAnnouncements();
            }
        }

        // Clear selection
        function clearSelection() {
            selectedAnnouncements.clear();
            document.querySelectorAll('.announcement-checkbox').forEach(cb => {
                cb.checked = false;
            });
            updateBulkActionsButton();
            Toast.info('Selection cleared');
        }

        // Pagination
        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                loadAnnouncements();
            }
        }

        function nextPage() {
            const filteredData = filterAnnouncementsData();
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                loadAnnouncements();
            }
        }

        // Update pagination info
        function updatePaginationInfo(totalItems) {
            const startIndex = (currentPage - 1) * itemsPerPage + 1;
            const endIndex = Math.min(startIndex + itemsPerPage - 1, totalItems);
            document.getElementById('announcementsCount').textContent = 
                `Showing ${startIndex}-${endIndex} of ${totalItems} announcements`;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Character count for announcement content
            const contentTextarea = document.getElementById('announcementContent');
            if (contentTextarea) {
                contentTextarea.addEventListener('input', function() {
                    const charCount = document.getElementById('charCount');
                    if (charCount) {
                        charCount.textContent = `${this.value.length}/5000 characters`;
                    }
                });
            }
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + N for new announcement
                if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                    e.preventDefault();
                    openModal('newAnnouncementModal');
                }
                
                // Ctrl/Cmd + F for search
                if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }
                
                // Esc to close modals
                if (e.key === 'Escape') {
                    closeModal('newAnnouncementModal');
                    closeModal('viewAnnouncementModal');
                    closeModal('bulkActionsModal');
                }
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeAnnouncements();
            
            // Welcome toast
            setTimeout(() => {
                Toast.success('Announcements Manager loaded successfully!', 3000);
            }, 1000);
            
            // Check for scheduled announcements
            setTimeout(() => {
                const scheduledCount = announcementsData.filter(a => a.status === 'scheduled').length;
                if (scheduledCount > 0) {
                    Toast.info(`You have ${scheduledCount} announcements scheduled for publishing`);
                }
            }, 2000);
        });
    </script>
</body>
</html>